(self.webpackChunkvuetest2=self.webpackChunkvuetest2||[]).push([[618],{86135:(e,t,a)=>{"use strict";var i=a(57593),n=a(3070),r=a(79114);e.exports=function(e,t,a){var s=i(t);s in e?n.f(e,s,r(0,a)):e[s]=a}},10647:(e,t,a)=>{var i=a(47908),n=Math.floor,r="".replace,s=/\$([$&'`]|\d\d?|<[^>]*>)/g,o=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,a,l,c,d){var p=a+e.length,u=l.length,f=o;return void 0!==c&&(c=i(c),f=s),r.call(d,f,(function(i,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,a);case"'":return t.slice(p);case"<":s=c[r.slice(1,-1)];break;default:var o=+r;if(0===o)return i;if(o>u){var d=n(o/10);return 0===d?i:d<=u?void 0===l[d-1]?r.charAt(1):l[d-1]+r.charAt(1):i}s=l[o-1]}return void 0===s?"":s}))}},79587:(e,t,a)=>{var i=a(70111),n=a(27674);e.exports=function(e,t,a){var r,s;return n&&"function"==typeof(r=t.constructor)&&r!==a&&i(s=r.prototype)&&s!==a.prototype&&n(e,s),e}},83009:(e,t,a)=>{var i=a(17854),n=a(53111).trim,r=a(81361),s=i.parseInt,o=/^[+-]?0[Xx]/,l=8!==s(r+"08")||22!==s(r+"0x16");e.exports=l?function(e,t){var a=n(String(e));return s(a,t>>>0||(o.test(a)?16:10))}:s},53111:(e,t,a)=>{var i=a(84488),n="["+a(81361)+"]",r=RegExp("^"+n+n+"*"),s=RegExp(n+n+"*$"),o=function(e){return function(t){var a=String(i(t));return 1&e&&(a=a.replace(r,"")),2&e&&(a=a.replace(s,"")),a}};e.exports={start:o(1),end:o(2),trim:o(3)}},81361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},69600:(e,t,a)=>{"use strict";var i=a(82109),n=a(68361),r=a(45656),s=a(9341),o=[].join,l=n!=Object,c=s("join",",");i({target:"Array",proto:!0,forced:l||!c},{join:function(e){return o.call(r(this),void 0===e?",":e)}})},40561:(e,t,a)=>{"use strict";var i=a(82109),n=a(51400),r=a(99958),s=a(17466),o=a(47908),l=a(65417),c=a(86135),d=a(81194),p=a(29207),u=d("splice"),f=p("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,m=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u||!f},{splice:function(e,t){var a,i,d,p,u,f,b=o(this),x=s(b.length),_=n(e,x),y=arguments.length;if(0===y?a=i=0:1===y?(a=0,i=x-_):(a=y-2,i=m(v(r(t),0),x-_)),x+a-i>h)throw TypeError(g);for(d=l(b,i),p=0;p<i;p++)(u=_+p)in b&&c(d,p,b[u]);if(d.length=i,a<i){for(p=_;p<x-i;p++)f=p+a,(u=p+i)in b?b[f]=b[u]:delete b[f];for(p=x;p>x-i+a;p--)delete b[p-1]}else if(a>i)for(p=x-i;p>_;p--)f=p+a-1,(u=p+i-1)in b?b[f]=b[u]:delete b[f];for(p=0;p<a;p++)b[p+_]=arguments[p+2];return b.length=x-i+a,d}})},9653:(e,t,a)=>{"use strict";var i=a(19781),n=a(17854),r=a(54705),s=a(31320),o=a(86656),l=a(84326),c=a(79587),d=a(57593),p=a(47293),u=a(70030),f=a(8006).f,v=a(31236).f,m=a(3070).f,h=a(53111).trim,g="Number",b=n.Number,x=b.prototype,_=l(u(x))==g,y=function(e){var t,a,i,n,r,s,o,l,c=d(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=h(c)).charCodeAt(0))||45===t){if(88===(a=c.charCodeAt(2))||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+c}for(s=(r=c.slice(2)).length,o=0;o<s;o++)if((l=r.charCodeAt(o))<48||l>n)return NaN;return parseInt(r,i)}return+c};if(r(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var I,C=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof C&&(_?p((function(){x.valueOf.call(a)})):l(a)!=g)?c(new b(y(t)),a,C):y(t)},w=i?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),k=0;w.length>k;k++)o(b,I=w[k])&&!o(C,I)&&m(C,I,v(b,I));C.prototype=x,x.constructor=C,s(n,g,C)}},91058:(e,t,a)=>{var i=a(82109),n=a(83009);i({global:!0,forced:parseInt!=n},{parseInt:n})},24603:(e,t,a)=>{var i=a(19781),n=a(17854),r=a(54705),s=a(79587),o=a(3070).f,l=a(8006).f,c=a(47850),d=a(67066),p=a(52999),u=a(31320),f=a(47293),v=a(29909).set,m=a(96340),h=a(5112)("match"),g=n.RegExp,b=g.prototype,x=/a/g,_=/a/g,y=new g(x)!==x,I=p.UNSUPPORTED_Y;if(i&&r("RegExp",!y||I||f((function(){return _[h]=!1,g(x)!=x||g(_)==_||"/a/i"!=g(x,"i")})))){for(var C=function(e,t){var a,i=this instanceof C,n=c(e),r=void 0===t;if(!i&&n&&e.constructor===C&&r)return e;y?n&&!r&&(e=e.source):e instanceof C&&(r&&(t=d.call(e)),e=e.source),I&&(a=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var o=s(y?new g(e,t):g(e,t),i?this:b,C);return I&&a&&v(o,{sticky:a}),o},w=function(e){e in C||o(C,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})},k=l(g),N=0;k.length>N;)w(k[N++]);b.constructor=C,C.prototype=b,u(n,"RegExp",C)}m("RegExp")},15306:(e,t,a)=>{"use strict";var i=a(27007),n=a(19670),r=a(17466),s=a(99958),o=a(84488),l=a(31530),c=a(10647),d=a(97651),p=Math.max,u=Math.min;i("replace",2,(function(e,t,a,i){var f=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=i.REPLACE_KEEPS_$0,m=f?"$":"$0";return[function(a,i){var n=o(this),r=null==a?void 0:a[e];return void 0!==r?r.call(a,n,i):t.call(String(n),a,i)},function(e,i){if(!f&&v||"string"==typeof i&&-1===i.indexOf(m)){var o=a(t,e,this,i);if(o.done)return o.value}var h=n(e),g=String(this),b="function"==typeof i;b||(i=String(i));var x=h.global;if(x){var _=h.unicode;h.lastIndex=0}for(var y=[];;){var I=d(h,g);if(null===I)break;if(y.push(I),!x)break;""===String(I[0])&&(h.lastIndex=l(g,r(h.lastIndex),_))}for(var C,w="",k=0,N=0;N<y.length;N++){I=y[N];for(var S=String(I[0]),E=p(u(s(I.index),g.length),0),M=[],A=1;A<I.length;A++)M.push(void 0===(C=I[A])?C:String(C));var $=I.groups;if(b){var P=[S].concat(M,E,g);void 0!==$&&P.push($);var T=String(i.apply(void 0,P))}else T=c(S,g,E,M,$,i);E>=k&&(w+=g.slice(k,E)+T,k=E+S.length)}return w+g.slice(k)}]}))},6411:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a(23645),n=a.n(i)()((function(e){return e[1]}));n.push([e.id,"@import url(//unpkg.com/element-ui@2.15.0/lib/theme-chalk/index.css);"]),n.push([e.id,".InterfaceBlock[data-v-8dbb825c]{width:80% !important;position:relative;margin-bottom:20px;border:2px solid #24bfb5}.shortList[data-v-8dbb825c]{min-width:100px}.sectionBlock[data-v-8dbb825c]{border-bottom:2px solid #24bfb5}.section-line[data-v-8dbb825c]{display:inline-block;width:100%;padding:8px 12px;margin-bottom:7px;margin-top:0;line-height:normal}.itemLabel[data-v-8dbb825c]{font-size:16px;font-weight:400;margin-right:5px}.flexcols[data-v-8dbb825c]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.flex-item[data-v-8dbb825c]{display:flex;padding:15px 10px;flex-direction:column;flex-basis:100%;flex:1}.flex-item+.flex-item[data-v-8dbb825c]{margin-left:4%}.vue-ip[data-v-8dbb825c]{border:1px solid #000 !important}.vue-ip .segment[data-v-8dbb825c]{border:1px solid #000 !important}.iptab[data-v-8dbb825c]{border-spacing:10px 15px}.block_dropper[data-v-8dbb825c]{position:absolute;top:0px;right:5px;cursor:pointer;font-size:48px}.collapsedTitle[data-v-8dbb825c]{font-size:22px;font-weight:bold;padding:7px 12px;display:none}.collapse[data-v-8dbb825c]{display:none}.collapsed[data-v-8dbb825c]{display:block}.btnPanel[data-v-8dbb825c]{display:inline-block;position:absolute;bottom:5px;right:10px;margin-right:10px;width:250px}.btnPanel>span[data-v-8dbb825c]{display:inline-block}.btnPanel button[data-v-8dbb825c]{display:inline-block;width:100px}.success[data-v-8dbb825c]{background-color:#4caf50 !important;border-color:#4caf50 !important}.disabled[data-v-8dbb825c]{opacity:.2}",""]);const r=n},94696:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a(23645),n=a.n(i)()((function(e){return e[1]}));n.push([e.id,".IpInput[data-v-6b5b1755]{display:inline-block}.IpInput .ipsegment[data-v-6b5b1755]{display:inline-block;width:45px;height:24px;padding:2px;border:1px solid #000}.IpInput .ipsegment input[data-v-6b5b1755]{width:100%;height:100%;font-size:14px;font-weight:500;border:none;outline:none;background-color:transparent}.IpInput .ipsegment input[data-v-6b5b1755]:disabled{font-weight:400;color:#333}.disabled[data-v-6b5b1755]{color:#444}.IpInput .ipseparator[data-v-6b5b1755]{margin:0px 2px}.disable[data-v-6b5b1755]{opacity:.1}",""]);const r=n},83605:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var i=a(23645),n=a.n(i)()((function(e){return e[1]}));n.push([e.id,".InterfaceContainer[data-v-442ad2d2]{margin-top:0px}.InterfaceWrapper[data-v-442ad2d2]{position:relative;padding-top:0px}.btn-top[data-v-442ad2d2]{position:relative;text-align:right;height:20px;top:-75px;font-size:20px !important;width:80%;margin-bottom:5px}.btn-top button[data-v-442ad2d2]{right:10px;width:140px;font-size:20px !important;top:0px;display:inline-block;background-color:#4f5a6e}.el-button--primary[data-v-442ad2d2]{color:#fff}",""]);const r=n},48618:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"InterfaceWrapper"},[a("div",{staticClass:"btn-top"},[a("el-button",{staticClass:"el-button el-button--primary",attrs:{type:"button"},on:{click:e.addBlock}},[a("i",{staticClass:"el-icon-circle-plus"}),e._v("Add")])],1),e._v(" "),a("div",{staticClass:"InterfaceContainer"},e._l(e.interfaces,(function(t,i){return a("div",[e.isEnabled(t)?a("InterfaceBlock",{key:t.name,attrs:{isNew:t.isNew,indx:t.indx,isCollapsed:i>0,iData:t,iName:t.name,allInterfaces:e.getInterfaces()}},[e._v(e._s(t.name))]):e._e()],1)})),0)])};i._withStripped=!0,a(40561);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"InterfaceBlock",style:{backgroundColor:e.bgColor},attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("div",{staticClass:"collapsedTitle",class:{collapsed:e.isCollapse}},[a("i",{staticClass:"fa fa-server",staticStyle:{"margin-right":"4px"}}),e._v(e._s(e.getLanName(e.iName)))]),e._v(" "),a("span",{staticClass:" fa",class:{"fa fa-caret-down":!e.isCollapse,block_dropper:!0,block_dropper:!0,"fa fa-caret-left":e.isCollapse},on:{click:e.collapseBlock}}),e._v(" "),a("div",{class:{"interface-block-wrapper":!0,collapse:e.isCollapse}},[a("div",{staticClass:"sectionBlock"},[a("p",{staticClass:"section-line"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.interfaceIndx,expression:"interfaceIndx"}],staticClass:"shortList",attrs:{id:"InterfacesLan"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.interfaceIndx=t.target.multiple?a:a[0]},function(t){return e.changeIndex(e.indx,t)}]}},e._l(e.maxInterfaces,(function(t){return a("option",{domProps:{value:t}},[e._v(e._s("LAN"+t))])})),0),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.protocolType,expression:"protocolType"}],staticClass:"shortList",attrs:{disabled:!e.editMode,id:"InterfacesProtocol"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.protocolType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"WAN"}},[e._v("WAN")]),a("option",{attrs:{value:"Local"}},[e._v("Local")])])]),e._v(" "),a("p",{staticClass:"section-line"},[a("label",{staticClass:"itemLabel"},[e._v("Protocol:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.protocol,expression:"protocol"}],attrs:{disabled:!e.editMode},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.protocol=t.target.multiple?a:a[0]}}},e._l(e.protocols,(function(t){return a("option",{domProps:{value:t.val}},[e._v(e._s(t.title))])})),0)])]),e._v(" "),a("div",{staticClass:"flexcols"},[a("div",{staticClass:"flex-item"},[a("table",{staticClass:"iptab"},[a("tr",{class:{disabled:e.isDynamic}},[e._m(0),a("td",[a("ip-input",{attrs:{disabled:"dynamic"==e.protocol,active:e.editMode,ip:e.ipv4addr_placeholder,segments:4,segmentMaxSize:3},model:{value:e.ipv4addr,callback:function(t){e.ipv4addr=t},expression:"ipv4addr"}})],1)]),e._v(" "),a("tr",{class:{disabled:e.isDynamic}},[e._m(1),a("td",[a("ip-input",{attrs:{active:e.editMode,ip:e.ipvnetmask_placeholder,segments:4,segmentMaxSize:3},model:{value:e.ipvnetmask,callback:function(t){e.ipvnetmask=t},expression:"ipvnetmask"}})],1)]),e._v(" "),"WAN"==e.protocolType?a("tr",{class:{disabled:e.isDynamic}},[e._m(2),a("td",[a("ip-input",{attrs:{active:e.editMode,ip:e.ipv4gateway_placeholder,segments:4,segmentMaxSize:3},model:{value:e.ipv4gateway,callback:function(t){e.ipv4gateway=t},expression:"ipv4gateway"}})],1)]):e._e(),e._v(" "),"WAN"==e.protocolType?a("tr",[a("td",{class:{disabled:!e.static_resolv&&"dynamic"==e.protocol}},[a("label",{staticClass:"itemLabel"},[e._v("Resolv")])]),a("td",[a("span",{class:{disabled:!e.static_resolv&&"dynamic"==e.protocol}},[a("ip-input",{attrs:{active:e.editMode,segments:4,segmentMaxSize:3},model:{value:e.resolv,callback:function(t){e.resolv=t},expression:"resolv"}})],1),e.isDynamic?a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.static_resolv,expression:"static_resolv"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.static_resolv)?e._i(e.static_resolv,null)>-1:e.static_resolv},on:{change:function(t){var a=e.static_resolv,i=t.target,n=!!i.checked;if(Array.isArray(a)){var r=e._i(a,null);i.checked?r<0&&(e.static_resolv=a.concat([null])):r>-1&&(e.static_resolv=a.slice(0,r).concat(a.slice(r+1)))}else e.static_resolv=n}}}),e._v(" Static resolv")]):e._e()])]):e._e()]),e._v(" "),a("span")]),e._v(" "),a("div",{staticClass:"flex-item"},[a("p",{staticClass:"section-line"},[a("label",{staticClass:"itemLabel"},[e._v("Override MAC address ")]),a("ip-input",{attrs:{active:e.editMode,segments:6,allowedregexp:"[a-fA-F0-9]",segmentMaxSize:2},model:{value:e.overrideMacAddr,callback:function(t){e.overrideMacAddr=t},expression:"overrideMacAddr"}})],1),e._v(" "),a("p",{staticClass:"section-line"},[a("label",{staticClass:"itemLabel"},[e._v("MTU ")]),a("ip-input",{attrs:{segments:1,active:e.editMode,segmentMaxSize:4,maxNumber:1e4},model:{value:e.mtu,callback:function(t){e.mtu=t},expression:"mtu"}})],1)])]),e._v(" "),a("div",{staticClass:"btnPanel"},[a("span",{staticStyle:{"margin-right":"5px"}},[a("el-button",{attrs:{type:"success"},on:{click:e.toggleEdit}},[e._v(e._s(e.editBtn))])],1),a("span",[a("button",{staticClass:"el-button el-button--danger",attrs:{type:"button"},on:{click:e.delCancelHandler}},[a("span",[e._v(e._s(e.DelCancelBtn))])])])])])])};n._withStripped=!0,a(9653),a(91058),a(74916),a(15306);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"IpInput",attrs:{id:e.__idinput}},[e._l(e.segments,(function(t){return[a("span",{staticClass:"ipsegment"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ipsegments[t-1],expression:"ipsegments[i-1]"}],key:t,attrs:{disabled:!e.active||e.disabled,num:t,id:"ipInput_"+e.__idinput+"_"+t,maxlength:e.segmentMaxSize,placeholder:e.active?e.placeholder_segments[t-1]:"",type:"text"},domProps:{value:e.ipsegments[t-1]},on:{input:[function(a){a.target.composing||e.$set(e.ipsegments,t-1,a.target.value)},e.inputIp],keydown:e.testChar,keyup:e.isEnd}})]),e.separator&&t<e.segments?a("span",{staticClass:"ipseparator"},[e._v("-")]):e._e()]}))],2)};r._withStripped=!0,a(69600),a(24603),a(39714),a(23123);const s={name:"ip-input",props:{value:{type:String},ip:{type:String,default:""},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},separator:{type:Boolean,default:!1},allowedregexp:{type:String,default:"\\d"},port:{type:String,default:""},outline:{type:String,default:"around",validator:function(e){return"around"==e||"bottom"==e||"onsides"==e}},borderColor:{type:String,default:"#727378"},fontSize:{type:Number,default:12},textColor:{type:String,default:"#000"},maxNumber:{type:Number,default:255},segments:{type:Number,default:4,validator:function(e){return e<20}},segmentMaxSize:{type:Number,default:4,validator:function(e){return e<10}}},data:function(){return{__ip:"",__port:"",__idinput:0,ipsegments:[],allowedSymbols:"",placeholder_segments:[]}},created:function(){this.__ip=this.$parent._data.ip||this.ip,this.__port=this.$parent.port||this.port,this.allowedSymbols=new RegExp(""+this.allowedregexp),this.placeholder_segments=this.__ip.split("."),this.__idinput=(new Date).getTime()+Math.floor(1e3*Math.random()),this.ipsegments=this.value.split(".")},methods:{inputIp:function(){var e=this.ipsegments.join(".");this.$emit("input",e),this.value=e},isEnd:function(e){if(e.currentTarget.value.length==this.segmentMaxSize||9==e.keyCode){var t=parseInt(e.currentTarget.getAttribute("num"));t+1<=this.segments&&document.getElementById("ipInput_"+this.__idinput+"_"+(t+1)).focus()}},testChar:function(e){if(parseInt(e.currentTarget.value)>=this.maxNumber&&8!=e.keyCode&&46!=e.keyCode&&37!=e.keyCode&&e.preventDefault(),new RegExp("/[0-9]/"),!this.allowedSymbols.test(e.key)&&8!=e.keyCode&&46!=e.keyCode&&37!=e.keyCode)return e.preventDefault(),!1;this.testDel(e,e.currentTarget)},testDel:function(e,t){if(8==e.keyCode){var a=0;if(document.selection){var i=document.selection.createRange(),n=i.text.length;i.moveStart("character",-t.value.length),a=i.text.length-n}else a=t.selectionStart||"0"==t.selectionStart?t.selectionStart:0;if(0==a){var r=parseInt(e.currentTarget.getAttribute("num"));r-1>0&&document.getElementById("ipInput_"+this.__idinput+"_"+(r-1)).focus()}}}}};var o=a(93379),l=a.n(o),c=a(94696);l()(c.Z,{insert:"head",singleton:!1}),c.Z.locals;var d=a(51900),p=(0,d.Z)(s,r,[],!1,null,"6b5b1755",null);p.options.__file="src/views/Interfaces/components/IpInput.vue";const u=p.exports;function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const v={name:"InterfaceBlock",data:function(){var e;return f(e={maxInterfaces:parseInt(this.$store.getters.getMaxInterfaces),ipv4addr_placeholder:"127.0.0.1",ipv4addr:this.iData.IPv4address||"",ipvnetmask:this.iData.IPv4netmask||"",interfacePort:"",interfaceIndx:0,protocol:this.iData.Protocol||"",protocolType:this.iData[this.getLanName(this.iName)]||"",loading:!1,static_resolv:!1,loader:null,mtu:this.iData.MTU||""},"loading",!1),f(e,"ipvnetmask_placeholder","255.255.255.0"),f(e,"ipv4gateway",this.iData.IPv4gateway||""),f(e,"ipv4gateway_placeholder","10.10.0.1"),f(e,"resolv",this.iData.Resolv||""),f(e,"overrideMacAddr",this.iData.OverrideMAC_address||""),f(e,"protocols",[{title:"Static adress",val:"static"},{title:"Dynamic address",val:"dynamic"}]),f(e,"currentColor",null),f(e,"editMode",!1),f(e,"editDialogVisible",!1),f(e,"own",""),f(e,"changeNum",0),f(e,"bgColors",{WAN:"#d9b9fa",Local:"#93f3fa",__isCollapse:!0}),e},props:{iData:{type:Object,default:{ipv4addr:!1,ipvnetmask:!1,protocol:"",protocolType:"",mtu:"",ipv4gateway:"",resolv:"",overrideMacAddr:""}},iName:{type:String,default:""},allInterfaces:{type:Array},isCollapsed:{type:Boolean},indx:{type:Number},isNew:{type:Boolean,default:!1}},created:function(){this.interfaceIndx=this.indx,this.__isCollapse=this.isCollapsed},mounted:function(){this.interfacePort=this.iName,console.log("port="+this.iName+" start index="+this.interfaceIndx+" protocol="+this.iData.Protocol)},watch:{interfaceIndx:function(e,t){}},computed:{isDynamic:function(){return"dynamic"==this.protocol},bgColor:function(){return this.bgColors[this.protocolType]},isCollapse:function(){return this.isCollapsed},editBtn:function(){return this.editMode?"Save":"Edit"},DelCancelBtn:function(){return this.editMode?"Cancel":"Delete"}},methods:{changeIndex:function(e,t){var a=t.target.value;this.interfacePort="lan"+t.target.value+".ini";var i=!1;for(var n in this.allInterfaces)this.allInterfaces[n].indx==a&&a!=e&&(i=!0);if(i){var r=document.getElementById("InterfacesLan");r.options[a-1].selected=!1,r.options[a-1].disabled=!0,r.options[e-1].selected=!0,this.interfaceIndx=e}this.$bus.$emit("changeInterface",{newInterface:e-1,oldInterface:this.interfaceIndx-1,isNew:this.isNew})},toggleEdit:function(){this.editMode=!this.editMode,this.editMode||this.save()},delCancelHandler:function(){this.editMode?this.editMode=!1:this.delete()},delete:function(){var e=this;this.$confirm("Вы уверены что хотите удалить настройки?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){var t={name:e.iName,index:e.indx};e.$bus.$emit("removeInterface",t)})).catch((function(){}))},save:function(){var e={data:{interfaceFile:this.interfacePort,interfacePort:this.getLanName(this.interfacePort),protocolType:this.protocolType,protocol:this.protocol,ipv4addr:this.ipv4addr,ipvnetmask:this.ipvnetmask,ipv4gateway:this.ipv4gateway,resolv:this.resolv,overrideMacAddr:this.overrideMacAddr,mtu:this.mtu,static_resolv:this.static_resolv},path:this.$router.currentRoute.fullPath,action:"saveInterface"};this.$request({method:"post",data:e});var t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout((function(){t.close()}),2e3)},getLanName:function(e){return e.replace(".ini","").toUpperCase()},collapseBlock:function(){this.isCollapsed=!this.isCollapsed},open:function(){var e=this;this.$confirm("Вы уверены что хотите удалить настройки?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){e.$message({type:"success",message:"Delete completed"})})).catch((function(){e.$message({type:"info",message:"Delete canceled"})}))}},components:{IpInput:u}};var m=a(6411);l()(m.Z,{insert:"head",singleton:!1}),m.Z.locals;var h=(0,d.Z)(v,n,[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("label",{staticClass:"itemLabel"},[e._v("IPv4 address")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("label",{staticClass:"itemLabel"},[e._v("IPv4 netmask")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("td",[a("label",{staticClass:"itemLabel"},[e._v("IPv4 gateway")])])}],!1,null,"8dbb825c",null);h.options.__file="src/views/Interfaces/components/InterfaceBlock.vue";const g={name:"Page",data:function(){return{interfaces:[],inum:0,num:0,maxInterfaces:6,changeNum:0}},created:function(){this.showInterfaces(),this.$bus.$on("removeInterface",this.removeInterface),this.$bus.$on("changeInterface",this.changeInterface)},watch:{$route:"showInterfaces"},methods:{removeInterface:function(e){var t={path:this.$router.currentRoute.fullPath,action:"deleteInterface",data:{iName:e.name}};this.$request({method:"post",data:t}),this.interfaces.splice(e.index,1),this.$forceUpdate()},changeInterface:function(e){if(this.interfaces.hasOwnProperty(e.newInterface)&&!0===e.isNew)return!1;if(!0===e.isNew)return!0;var t=this.interfaces[e.newInterface];this.interfaces[e.newInterface]=this.interfaces[e.oldInterface],this.interfaces[e.oldInterface]=t,this.$forceUpdate()},getCollapsed:function(){var e=this.num>0;return this.num++,e},showInterfaces:function(){var e=this,t={path:this.$router.currentRoute.fullPath,action:"getInterfaces"};this.$request({method:"post",data:t}).then((function(t){var a=t.data,i=1;for(var n in a)a[n].name=n,a[n].indx=i,e.interfaces.push(a[n]),i++;for(var r in e.inum=0,e.interfaces)e.inum++}))},addBlock:function(){if(this.inum<=this.maxInterfaces){this.inum++;var e=this.inum;this.interfaces.push({IPv4address:"",IPv4gateway:"",IPv4netmask:"",MTU:"",OverrideMAC_address:"",Protocol:"",protocolType:"WAN",Resolv:"",name:"lan"+e+".ini",indx:e,isNew:!0}),this.$forceUpdate()}},isEnabled:function(e){return"disabled"!=e},getInterfaces:function(){return this.interfaces}},components:{InterfaceBlock:h.exports}};var b=a(83605);l()(b.Z,{insert:"head",singleton:!1}),b.Z.locals;var x=(0,d.Z)(g,i,[],!1,null,"442ad2d2",null);x.options.__file="src/views/Interfaces/index.vue";const _=x.exports}}]);